<Application x:Class="Shibaura_ControlHub.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:Shibaura_ControlHub"
             xmlns:views="clr-namespace:Shibaura_ControlHub.Views"
             xmlns:conv="clr-namespace:Shibaura_ControlHub.Converters"
             StartupUri="MainWindow.xaml">
    <Application.Resources>
        <!-- Visual Studio Dark 風パレット -->
        <Color x:Key="PrimaryBlue">#007ACC</Color>
        <!-- Visual Studio accent -->
        <Color x:Key="AccentBlue">#0A84FF</Color>
        <!-- プリセット呼び出し済み用の濃い青 -->
        <Color x:Key="CalledPresetBlue">#004080</Color>
        <!-- 強調色 -->
        <Color x:Key="BackgroundDark">#1E1E1E</Color>
        <!-- ウィンドウ背景 -->
        <Color x:Key="PanelDark">#252526</Color>
        <!-- パネル / カード背景 -->
        <Color x:Key="ControlDark">#3C3C3C</Color>
        <!-- コントロール背景 -->
        <Color x:Key="BorderDark">#3F3F46</Color>
        <!-- 境界線 -->
        <Color x:Key="TextLight">#D4D4D4</Color>
        <!-- 主要テキスト -->
        <Color x:Key="SubText">#9A9A9A</Color>
        <!-- 補助テキスト -->
        <Color x:Key="SuccessGreen">#10B981</Color>
        <Color x:Key="WarningOrange">#F59E0B</Color>
        <Color x:Key="ErrorRed">#EF4444</Color>

        <!-- ブラシ -->
        <SolidColorBrush x:Key="PrimaryBrush" Color="{StaticResource PrimaryBlue}"/>
        <SolidColorBrush x:Key="AccentBrush" Color="{StaticResource AccentBlue}"/>
        <SolidColorBrush x:Key="CalledPresetBrush" Color="{StaticResource CalledPresetBlue}"/>
        <SolidColorBrush x:Key="BackgroundBrush" Color="{StaticResource BackgroundDark}"/>
        <SolidColorBrush x:Key="PanelBrush" Color="{StaticResource PanelDark}"/>
        <SolidColorBrush x:Key="ControlBrush" Color="{StaticResource ControlDark}"/>
        <SolidColorBrush x:Key="BorderBrush" Color="{StaticResource BorderDark}"/>
        <SolidColorBrush x:Key="TextBrush" Color="{StaticResource TextLight}"/>
        <SolidColorBrush x:Key="SubTextBrush" Color="{StaticResource SubText}"/>

        <!-- Window 全体のデフォルトをダークに -->
        <Style TargetType="Window">
            <Setter Property="Background" Value="{StaticResource BackgroundBrush}"/>
            <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
        </Style>

        <!-- モダンボタンスタイル（ダークテーマ向け） -->
        <Style x:Key="ModernButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="{StaticResource AccentBrush}"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="20,12"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="MinHeight" Value="44"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}"
                                CornerRadius="8"
                                Padding="{TemplateBinding Padding}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="border" Property="Background" Value="#2D2D30"/>
                                <Setter Property="Foreground" Value="#6B6B6B"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- SmallButton をダーク化 -->
        <Style x:Key="SmallButtonStyle" TargetType="Button" BasedOn="{StaticResource ModernButtonStyle}">
            <Setter Property="Padding" Value="16,10"/>
            <Setter Property="FontSize" Value="15"/>
            <Setter Property="MinHeight" Value="40"/>
            <Setter Property="Height" Value="40"/>
        </Style>

        <!-- ModeButton ダーク -->
        <Style x:Key="ModeButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="{StaticResource PanelBrush}"/>
            <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="18,12"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="MinHeight" Value="44"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="6"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- TriangleButton ダーク -->
        <Style x:Key="TriangleButtonStyle" TargetType="Button" BasedOn="{StaticResource ModernButtonStyle}">
            <Setter Property="Width" Value="42"/>
            <Setter Property="Height" Value="42"/>
            <Setter Property="Padding" Value="0"/>
            <Setter Property="Background" Value="{StaticResource PanelBrush}"/>
            <Setter Property="Foreground" Value="{StaticResource PrimaryBrush}"/>
        </Style>

        <!-- GroupBox / Card / ListBox / DataGrid のダーク化 -->
        <Style x:Key="ModernGroupBoxStyle" TargetType="GroupBox">
            <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Background" Value="{StaticResource PanelBrush}"/>
            <Setter Property="Padding" Value="8"/>
            <Setter Property="Margin" Value="0,0,0,20"/>
        </Style>

        <Style x:Key="CardBorder" TargetType="Border">
            <Setter Property="Background" Value="{StaticResource PanelBrush}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Padding" Value="14"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <!-- ダークでは強いシャドウを避ける -->
                    <DropShadowEffect Color="#000000" BlurRadius="6" ShadowDepth="0" Opacity="0.2"/>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="ModernListBoxStyle" TargetType="ListBox">
            <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Background" Value="{StaticResource ControlBrush}"/>
            <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
            <Setter Property="Padding" Value="4"/>
        </Style>

        <Style x:Key="ModernDataGridStyle" TargetType="DataGrid">
            <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Background" Value="{StaticResource ControlBrush}"/>
            <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
            <Setter Property="RowBackground" Value="{StaticResource ControlBrush}"/>
            <Setter Property="AlternatingRowBackground" Value="#242424"/>
        </Style>

        <Style TargetType="Slider" x:Key="TouchSlider">
            <!-- スライダー幅（縦スライダーの場合は太さ）-->
            <Setter Property="Width" Value="60" />


            <!-- Track と Thumb のカスタム -->
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Slider">
                        <Grid Margin="10">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <!-- Track -->
                            <Border Grid.Row="1" Background="#303030" CornerRadius="6" Width="10" HorizontalAlignment="Center"/>

                            <Track x:Name="PART_Track"
                           Grid.Row="1"
                           Orientation="{TemplateBinding Orientation}"
                           Minimum="{TemplateBinding Minimum}"
                           Maximum="{TemplateBinding Maximum}"
                           Value="{TemplateBinding Value}">
                                <Track.Thumb>
                                    <!-- Thumb（つまみ）-->
                                    <Thumb Width="36" Height="36">
                                        <Thumb.Template>
                                            <ControlTemplate TargetType="Thumb">
                                                <Ellipse Fill="#505050"
                                                 Stroke="#A0A0A0"
                                                 StrokeThickness="2" />
                                            </ControlTemplate>
                                        </Thumb.Template>
                                    </Thumb>
                                </Track.Thumb>
                            </Track>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>




        <!-- テキスト系の既定色 -->
        <Style TargetType="TextBlock">
            <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
        </Style>

        <!-- ページタイトルスタイル -->
        <Style x:Key="PageTitleStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Margin" Value="0,0,0,20"/>
            <Setter Property="Foreground" Value="{StaticResource PrimaryBrush}"/>
        </Style>

        <!-- セクションヘッダースタイル -->
        <Style x:Key="SectionHeaderStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Margin" Value="0,0,0,6"/>
            <Setter Property="Foreground" Value="{StaticResource SubTextBrush}"/>
        </Style>

        <!-- コンバーター -->
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
        <views:CategoryMatchConverter x:Key="CategoryMatchConverter"/>
        <views:CategoryNotMatchConverter x:Key="CategoryNotMatchConverter"/>
        <conv:IntEqualityConverter x:Key="IntEqualityConverter"/>
        <conv:PresetStateConverter x:Key="PresetStateConverter"/>
        <conv:EqualityConverter x:Key="EqualityConverter"/>

        <!-- 統一プリセットボタンスタイル（ベース） -->
        <Style x:Key="BasePresetButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="{StaticResource AccentBrush}"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="14,9"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="MinHeight" Value="36"/>
            <Setter Property="Height" Value="36"/>
            <Setter Property="MaxHeight" Value="36"/>
            <Setter Property="VerticalAlignment" Value="Top"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="Margin" Value="6,3,6,3"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}"
                                CornerRadius="8"
                                Padding="{TemplateBinding Padding}"
                                Height="36"
                                MinHeight="36"
                                MaxHeight="36">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="border" Property="Background" Value="#2D2D30"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Application.Resources>
</Application>