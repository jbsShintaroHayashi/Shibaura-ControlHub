<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <configSections>
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler,log4net" />
  </configSections>

  <log4net>
    <!-- アプリケーション専用ログ（Shibaura_ControlHub のみ・見やすい形式） -->
    <appender name="AppLogFile" type="log4net.Appender.RollingFileAppender">
      <File value="C:\cnf\log\log_app" />
      <appendToFile value="true" />
      <rollingStyle value="date" />
      <staticLogFileName value="false" />
      <datePattern value='"_"yyyyMMdd".txt"' />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%date{HH:mm:ss.fff} %-5level %message%newline" />
      </layout>
    </appender>

    <!-- Shibaura_ControlHub 名前空間のみこのアペンダーへ出力（CGI等のライブラリログは含まない） -->
    <logger name="Shibaura_ControlHub" additivity="false">
      <level value="INFO" />
      <appender-ref ref="AppLogFile" />
    </logger>

    <!-- ルートは OFF：ライブラリ（CGI/ATEM等）のログをファイルに出さず、アプリログのみ見やすくする -->
    <root>
      <level value="OFF" />
    </root>
  </log4net>
</configuration>
